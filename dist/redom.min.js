!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.redom=e.redom||{})}(this,function(e){"use strict";function n(e,n,r,i){if("function"==typeof e){e.constructor;var o=arguments.length-1;switch(o){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r);case 3:return new e(n,r,i)}for(var u=new Array(o),f=0;o>f;)u[f]=arguments[++f];return new(e.bind.apply(e,u))}for(var a=t(e),l=!0,f=1;f<arguments.length;f++){var s=arguments[f];if(null!=s)if("function"==typeof s&&(s=s(a)),!l||"string"!=typeof s&&"number"!=typeof s){if(mount(a,s))l=!1;else if("object"==typeof s)for(var c in s){var d=s[c];if("style"===c)if("string"==typeof d)a.setAttribute(c,d);else{var m=a.style;for(var v in d)m[v]=d[v]}else c in a?a[c]=s[c]:a.setAttribute(c,s[c])}}else a.textContent=s,l=!1}return a}function t(e,n){var t=n?d:c;if(e in c)return t[e].cloneNode(!1);for(var r,i,o,u=0,f=0,a=0,l=e.length;l>=a;a++){var s=a===l?0:e.charCodeAt(a);if(35===s||46===s||0===s){if(0===u)r=0===a?"div":0===s?e:e.substring(f,a);else{var v=e.substring(f,a);1===u?i=v:o?o+=" "+v:o=v}f=a+1,u=35===s?1:2}}var g=n?m(r):document.createElement(r);return i&&(g.id=i),o&&(g.className=o),t[e]=g,g.cloneNode(!1)}function r(e,n,t){t?e.insertBefore(n,t.el||t):e.appendChild(n)}function i(e,n,t){var o=e.el||e;if(null!=n){var a=n.el||n,l=typeof ChildEl;if("string"===l||"number"===l)return r(o,v(n),t),!0;if(n.length){for(var s=0;s<n.length;s++)i(o,n[s],t);return!0}return a.nodeType?(n!==a&&(a.view=n),a.mounted&&(a.mounted=!1,n.unmount&&n.unmount(),f(a)),r(o,a,t),(o.mounted||document.contains(a))&&(a.mounted=!0,n.mount&&n.mount(),u(a)),!0):!1}}function o(e,n){var t=e.el||e,r=n.el||n;t.removeChild(r),r.mounted=!1,r.unmount&&r.unmount(),f(r)}function u(e){for(var n=e.firstChild;n;){if(n.mounted)return;n.mounted=!0,n.view&&n.view.mount&&n.view.mount(),u(n),n=n.nextSibling}}function f(e){for(var n=e.firstChild;n;){if(!n.mounted)return;n.mounted=!1,n.view&&n.view.unmount&&n.view.unmount(),f(n),n=n.nextSibling}}function a(e){return function(n){for(var t in e)n.addEventListener(t,function(r){e[t].call(n.view,r)})}}function l(e){for(var n=g[e]||(g[e]=t(e,!0)),r=n.cloneNode(!1),i=!0,o=1;o<arguments.length;o++){var u=arguments[o];if(null!=u)if("function"==typeof u&&(u=u(r)),!i||u!==String&&u!==Number)if(mount(r,u))i=!1;else for(var f in u)if("style"===f){var a=r.style,l=u.style;if("string"!=typeof l)for(var s in l)a[s]=l[s];else r.setAttribute(f,u[f])}else r.setAttribute(f,u[f]);else r.textContent=u,i=!1}return r}function s(e){return function(n,t,r){var i=Object.create(e),o=arguments.length;switch(o){case 0:e.init.call(i);break;case 1:e.init.call(i,n);break;case 2:e.init.call(i,n,t);break;case 3:e.init.call(i,n,t,r);break;default:for(var u=new Array(o),f=0;o>f;)e.init.apply(i,u)}return i}}var c={},d={},m=document.createElementNS.bind(document,"http://www.w3.org/2000/svg");n.extend=function(e){return n.bind(this,e)};var v=document.createTextNode.bind(document),g={};l.extend=function(e){return l.bind(this,e)},e.el=n,e.createElement=t,e.mount=i,e.unmount=o,e.on=a,e.text=v,e.svg=l,e.view=s,Object.defineProperty(e,"__esModule",{value:!0})});