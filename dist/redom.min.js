!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,o,r=0,f=0,s=e.length,l=0;s>=l;l++){var u=e[l];if(u===d||u===a||null==u){if(0===r)n=0===l?"div":null==u?e:e.substring(f,l);else{var v=e.substring(f,l);1===r?i=v:o?o+=" "+v:o=v}f=l+1,r=u===d?1:2}}var p=t?document.createElementNS(t,n):document.createElement(n);return i&&(p.id=i),o&&(p.className=o),p}function n(e){return document.createTextNode(e)}function i(e,t,n){var i=e.el||e,o=t.el||t;o.__redom_list&&(o=o.el),t===o&&o.__redom_view&&(t=o.__redom_view),t!==o&&(o.__redom_view=t),n?i.insertBefore(o,n.el||n):i.appendChild(o),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted())}function o(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function r(e){for(var o=[],r=arguments.length-1;r-->0;)o[r]=arguments[r+1];var f;if("string"==typeof e)f=(v[e]||(v[e]=t(e))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");f=e.cloneNode(!1)}for(var s=!0,l=0;l<o.length;l++){var u=o[l];if(u)if("function"==typeof u)u(f);else if("string"==typeof u||"number"==typeof u)s?(s=!1,f.textContent=u):f.appendChild(n(u));else if(u.nodeType||u.el&&u.el.nodeType)s=!1,i(f,u);else if(u.length){s=!1;for(var d=0;d<u.length;d++)i(f,u[d])}else if("object"==typeof u)for(var a in u){var p=u[a];if("style"===a)if("string"==typeof p)f.setAttribute(a,p);else for(var c in p)f.style[c]=p[c];else a in f||"function"==typeof p?f[a]=p:f.setAttribute(a,p)}}return f}function f(e,t){for(var n=e.el||e,r=n.firstChild,f=0;f<t.length;f++){var s=t[f];if(s){var l=s.el||s;l!==r?i(e,s,r):r=r.nextSibling}}for(;r;){var u=r.nextSibling;o(e,r),r=u}}function s(e,t,n,i){return new l(e,t,n,i)}function l(e,t,n,i){this.__redom_list=!0,this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?r(e):e,n&&(this.lookup={})}function u(e){var o,r=arguments;if("string"==typeof e)o=(c[e]||(c[e]=t(e,p))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");o=e.cloneNode(!1)}for(var f=!0,s=1;s<arguments.length;s++){var l=r[s];if(l)if("function"==typeof l)l=l(o);else if("string"==typeof l||"number"==typeof l)f?(f=!1,o.textContent=l):o.appendChild(n(l));else if(l.nodeType||l.el&&l.el.nodeType)f=!1,i(o,l);else if("object"==typeof l)for(var u in l){var d=l[u];if("style"===u&&"string"!=typeof d)for(var a in d)o.style[a]=d[a];else"function"==typeof d?o[u]=d:o.setAttribute(u,d)}}return o}var d="#",a=".",v={};r.extend=function(e){var n=v[e]||(v[e]=t(e));return r.bind(this,n)},l.extend=function(e,t,n,i){return l.bind(l,e,t,n,i)},s.extend=l.extend,l.prototype.update=function(e){for(var t=this.View,n=this.key,i="function"==typeof n,o=this.initData,r=this.views,s=n&&{},l=n&&this.lookup,u=0;u<e.length;u++){var d=e[u],a=void 0;if(n){var v=i?n(d):d[n];a=r[u]=l[v]||new t(o,d,u,e),s[v]=a,a.__id=v}else a=r[u]||(r[u]=new t(o,d,u,e));var p=a.el;p.__redom_list&&(p=p.el),p.__redom_view=a,a.update&&a.update(d,u,e)}r.length=e.length,f(this.el,r),n&&(this.lookup=s)};var p="http://www.w3.org/2000/svg",c={};u.extend=function(e){var n=c[e]||(c[e]=t(e,p));return u.bind(this,n)},e.el=r,e.list=s,e.List=l,e.mount=i,e.unmount=o,e.setChildren=f,e.svg=u,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});