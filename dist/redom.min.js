!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t,r,i){if("function"==typeof e){e.constructor;var o=arguments.length-1;switch(o){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r);case 3:return new e(t,r,i)}for(var u=new Array(o),f=0;o>f;)u[f]=arguments[++f];return new(e.bind.apply(e,u))}for(var a=n(e),s=!0,f=1;f<arguments.length;f++){var c=arguments[f];if(null!=c)if("function"==typeof c&&(c=c(a)),!s||"string"!=typeof c&&"number"!=typeof c){if(mount(a,c))s=!1;else if("object"==typeof c)for(var l in c){var d=c[l];if("style"===l)if("string"==typeof d)a.setAttribute(l,d);else{var m=a.style;for(var v in d)m[v]=d[v]}else l in a?a[l]=c[l]:a.setAttribute(l,c[l])}}else a.textContent=c,s=!1}return a}function n(e,t){var n=t?d:l;if(e in l)return n[e].cloneNode(!1);for(var r,i,o,u=0,f=0,a=0,s=e.length;s>=a;a++){var c=a===s?0:e.charCodeAt(a);if(35===c||46===c||0===c){if(0===u)r=0===a?"div":0===c?e:e.substring(f,a);else{var v=e.substring(f,a);1===u?i=v:o?o+=" "+v:o=v}f=a+1,u=35===c?1:2}}var g=t?m(r):document.createElement(r);return i&&(g.id=i),o&&(g.className=o),n[e]=g,g.cloneNode(!1)}function r(e,t,n){n?e.insertBefore(t,n.el||n):e.appendChild(t)}function i(e,t,n){var o=e.el||e;if(null!=t){var a=t.el||t,s=typeof ChildEl;if("string"===s||"number"===s)return r(o,v(t),n),!0;if(t.length){for(var c=0;c<t.length;c++)i(o,t[c],n);return!0}return a.nodeType?(t!==a&&(a.view=t),a.mounted&&(a.mounted=!1,t.unmount&&t.unmount(),f(a)),r(o,a,n),(o.mounted||document.contains(a))&&(a.mounted=!0,t.mount&&t.mount(),u(a)),!0):!1}}function o(e,t){var n=e.el||e,r=t.el||t;n.removeChild(r),r.mounted=!1,r.unmount&&r.unmount(),f(r)}function u(e){for(var t=e.firstChild;t;){if(t.mounted)return;t.mounted=!0,t.view&&t.view.mount&&t.view.mount(),u(t),t=t.nextSibling}}function f(e){for(var t=e.firstChild;t;){if(!t.mounted)return;t.mounted=!1,t.view&&t.view.unmount&&t.view.unmount(),f(t),t=t.nextSibling}}function a(e){return function(t){for(var n in e)t.addEventListener(n,function(r){e[n].call(t.view,r)})}}function s(e){for(var t=g[e]||(g[e]=n(e,!0)),r=t.cloneNode(!1),i=!0,o=1;o<arguments.length;o++){var u=arguments[o];if(null!=u)if("function"==typeof u&&(u=u(r)),!i||u!==String&&u!==Number)if(mount(r,u))i=!1;else for(var f in u)if("style"===f){var a=r.style,s=u.style;if("string"!=typeof s)for(var c in s)a[c]=s[c];else r.setAttribute(f,u[f])}else r.setAttribute(f,u[f]);else r.textContent=u,i=!1}return r}function c(e){return function(t,n,r){var i=Object.create(e),o=arguments.length;switch(o){case 0:e.init();break;case 1:e.init(t);break;case 2:e.init(t,n);break;case 3:e.init(t,n,r);break;default:for(var u=new Array(o),f=0;o>f;)e.init.apply(this,u)}return i}}var l={},d={},m=document.createElementNS.bind(document,"http://www.w3.org/2000/svg");t.extend=function(e){return t.bind(this,e)};var v=document.createTextNode.bind(document),g={};s.extend=function(e){return s.bind(this,e)},e.el=t,e.createElement=n,e.mount=i,e.unmount=o,e.on=a,e.text=v,e.svg=s,e.view=c,Object.defineProperty(e,"__esModule",{value:!0})});