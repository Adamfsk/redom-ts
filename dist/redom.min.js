!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,r,i,o=0,u=0,f=0,s=e.length;s>=f;f++){var a=f===s?0:e.charCodeAt(f);if(35===a||46===a||0===a){if(0===o)n=0===f?"div":0===a?e:e.substring(u,f);else{var d=e.substring(u,f);1===o?r=d:i?i+=" "+d:i=d}u=f+1,o=35===a?1:2}}if(t)var l=v.createElementNS(t,n);else var l=v.createElement(n);return r&&(l.id=r),i&&(l.className=i),l}function n(e){return v.createTextNode(e)}function r(e,t){for(var n=e.el||e,r=n.firstChild,u=0;u<t.length;u++){var f=t[u];if(f){var s=f.el||f;s!==r?i(e,f):r=r.nextSibling}}for(;r;){var a=r.nextSibling;o(e,r),r=a}}function i(e,t,n){if(null!=t){var r=e.el||e,i=t.el||t;return t===i&&i.__redom_view&&(t=i.__redom_view),i.nodeType?(t!==i&&(i.__redom_view=t),n?r.insertBefore(i,n.el||n):r.appendChild(i),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted()),!0):!1}}function o(e,t){var n=e.el||e,r=t.el||t;t===r&&r.__redom_view&&(t=r.__redom_view),n.removeChild(r),t.isMounted=!1,t.unmounted&&t.unmounted()}function u(e,n){if("function"==typeof e){var r=arguments.length-1;if(2>r)return new e(n);for(var i=new Array(r),o=0;r>o;)i[++o]=arguments[o];return new(e.bind.apply(e,i))}for(var u=(c[e]||(c[e]=t(e))).cloneNode(!1),s=!0,o=1;o<arguments.length;o++){var a=arguments[o];s=f(u,s,a)}return u}function f(e,t,r){for(;"function"==typeof r;)r=r(e);if(i(e,r))return!1;if("string"==typeof r||"number"==typeof r)return t?e.textContent=r:e.appendChild(n(r)),!1;for(var o in r){var u=r[o];if("style"===o){if("string"==typeof u)e.setAttribute(o,u);else for(var f in u)e.style[f]=u[f];e[o]=u}else o in e||"function"==typeof u?(e[o]=u,"autofocus"===o&&e.focus()):e.setAttribute(o,u)}return t}function s(e,t,n,r){return new a(e,t,n,r)}function a(e,t,n,r){this.View=t,this.key=n,this.initData=r,this.views=[],this.el="string"==typeof e?u(e):e,n&&(this.lookup={})}function d(e){for(var n=(p[e]||(p[e]=t(e))).cloneNode(!1),r=!0,i=1;i<arguments.length;i++){var o=arguments[i];r=l(n,r,o)}return n}function l(e,t,r){for(;"function"==typeof r;)r=r(e);if(i(e,r))return!1;if("string"==typeof r||"number"==typeof r)return t?e.textContent=r:e.appendChild(n(r)),!1;for(var o in r){var u=r[o];if("style"===o&&"string"!=typeof u)for(var f in u)e.style[f]=u[f];else"function"==typeof u?e[o]=u:e.setAttribute(o,u)}return t}var v=document,c={};u.extend=function(e){return u.bind(this,e)},a.extend=function(e,t,n,r){return a.bind(a,e,t,n,r)},s.extend=a.extend,a.prototype.update=function(e){var t=this.View,n=this.key,r=this.initData,u=this.views,f=this.el,s=f.firstChild;if(n)var a=this.lookup;for(var d=0;d<e.length;d++){var l=e[d];if(n){var v="function"==typeof n?n(l):l[n],c=u[d]=a[v]||(a[v]=new t(r,l,d));c.__id=v}else var c=u[d]||(u[d]=new t(r,l,d));var p=c.el;p.__redom_view=c,c.update&&c.update(l),s!==p?i(f,c,s):s=s.nextSibling}for(;s;){var m=s.nextSibling;if(n){var h=s.__redom_view;if(h){var v=h.__id;a[v]=null}}u[d++]=null,o(f,h||s),s=m}u.length=e.length};var p={};d.extend=function(e){return d.bind(this,e)},e.el=u,e.list=s,e.List=a,e.mount=i,e.unmount=o,e.setChildren=r,e.svg=d,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});