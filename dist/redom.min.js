!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t,r,i){if("function"==typeof e){var u=arguments.length-1;switch(u){case 0:return e();case 1:return e(t);case 2:return e(t,r);case 3:return e(t,r,i)}for(var o=new Array(u),f=0;u>f;)o[f]=arguments[++f];return e.apply(this,o)}for(var a=n(e),l=!0,f=1;f<arguments.length;f++){var s=arguments[f];if(null!=s)if("function"==typeof s&&(s=s(a)),!l||"string"!=typeof s&&"number"!=typeof s){if(mount(a,s))l=!1;else if("object"==typeof s)for(var c in s){var m=s[c];if("style"===c)if("string"==typeof m)a.setAttribute(c,m);else{var d=a.style;for(var v in m)d[v]=m[v]}else c in a?a[c]=s[c]:a.setAttribute(c,s[c])}}else a.textContent=s,l=!1}return a}function n(e,t){var n=t?m:c;if(e in c)return n[e].cloneNode(!1);for(var r,i,u,o=0,f=0,a=0,l=e.length;l>=a;a++){var s=a===l?0:e.charCodeAt(a);if(35===s||46===s||0===s){if(0===o)r=0===a?"div":0===s?e:e.substring(f,a);else{var v=e.substring(f,a);1===o?i=v:u?u+=" "+v:u=v}f=a+1,o=35===s?1:2}}var g=t?d(r):document.createElement(r);return i&&(g.id=i),u&&(g.className=u),n[e]=g,g.cloneNode(!1)}function r(e,t,n){n?e.insertBefore(t,n.el||n):e.appendChild(t)}function i(e,t,n){var u=e.el||e;if(null!=t){var a=t.el||t,l=typeof ChildEl;if("string"===l||"number"===l)return r(u,v(t),n),!0;if(t.length){for(var s=0;s<t.length;s++)i(u,t[s],n);return!0}return a.nodeType?(t!==a&&(a.view=t),a.mounted&&(a.mounted=!1,t.unmount&&t.unmount(),f(a)),r(u,a,n),(u.mounted||document.contains(a))&&(a.mounted=!0,t.mount&&t.mount(),o(a)),!0):!1}}function u(e,t){var n=e.el||e,r=t.el||t;n.removeChild(r),r.mounted=!1,r.unmount&&r.unmount(),f(r)}function o(e){for(var t=e.firstChild;t;){if(t.mounted)return;t.mounted=!0,t.view&&t.view.mount&&t.view.mount(),o(t),t=t.nextSibling}}function f(e){for(var t=e.firstChild;t;){if(!t.mounted)return;t.mounted=!1,t.view&&t.view.unmount&&t.view.unmount(),f(t),t=t.nextSibling}}function a(e){return function(t){for(var n in e)t.addEventListener(n,function(r){e[n].call(t.view,r)})}}function l(e){for(var t=g[e]||(g[e]=n(e,!0)),r=t.cloneNode(!1),i=!0,u=1;u<arguments.length;u++){var o=arguments[u];if(null!=o)if("function"==typeof o&&(o=o(r)),!i||o!==String&&o!==Number)if(mount(r,o))i=!1;else for(var f in o)if("style"===f){var a=r.style,l=o.style;if("string"!=typeof l)for(var s in l)a[s]=l[s];else r.setAttribute(f,o[f])}else r.setAttribute(f,o[f]);else r.textContent=o,i=!1}return r}function s(e){return function(t,n,r){var i=Object.create(e),u=arguments.length;switch(u){case 0:return e.init.call(i),i;case 1:return e.init.call(i,t),i;case 2:return e.init.call(i,t,n),i;case 3:return e.init.call(i,t,n,r),i}for(var o=new Array(u),f=0;u>f;)o[f]=arguments[++f];return e.init.apply(i,o),i}}var c={},m={},d=document.createElementNS.bind(document,"http://www.w3.org/2000/svg");t.extend=function(e){return t.bind(this,e)};var v=document.createTextNode.bind(document),g={};l.extend=function(e){return l.bind(this,e)},e.el=t,e.createElement=n,e.mount=i,e.unmount=u,e.on=a,e.text=v,e.svg=l,e.view=s,Object.defineProperty(e,"__esModule",{value:!0})});